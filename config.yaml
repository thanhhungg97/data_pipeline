# Data Pipeline Configuration

paths:
  input_dir: "data/raw"
  output_dir: "data/processed"

# Data sources configuration
# Each source can have different column mappings
sources:
  shopee:
    pattern: "Shopee*.xlsx"  # File pattern to match
    source_name: "Shopee"
    columns:
      date: "Date"
      order_id: "Order ID"
      status: "Status"
      reason_cancelled: "Reason cancelled"
      
  website:
    pattern: "Website*.xlsx"
    source_name: "Website"
    columns:
      date: "Date"
      order_id: "Order ID"
      status: "Status"
      reason_cancelled: "Reason cancelled"
      
  # Add more sources here as needed:
  # lazada:
  #   pattern: "Lazada*.xlsx"
  #   source_name: "Lazada"
  #   columns:
  #     date: "Order Date"
  #     order_id: "Order No"
  #     status: "Order Status"

output:
  format: parquet  # parquet or csv

# Standard column names (internal)
schema:
  date: "Date"
  source: "Source"
  order_id: "Order ID"
  status: "Status"
  status_normalized: "Status_Normalized"
  reason_cancelled: "Reason cancelled"
  year: "Year"
  month: "Month"

# Status normalization mapping
# Maps various status values to standardized categories
status_mapping:
  # Delivered variants
  Delivered: "Delivered"
  Completed: "Delivered"
  Done: "Delivered"
  Success: "Delivered"
  "Giao thành công": "Delivered"
  
  # Cancelled variants
  "Cancel by cust.": "Cancelled"
  Cancelled: "Cancelled"
  Canceled: "Cancelled"
  Cancel: "Cancelled"
  "Cancelled by customer": "Cancelled"
  "Đã hủy": "Cancelled"
  
  # Returned variants
  Returned: "Returned"
  Return: "Returned"
  Refunded: "Returned"
  "Hoàn trả": "Returned"
  
  # Failed variants
  "Failed delivery": "Failed"
  Failed: "Failed"
  "Delivery Failed": "Failed"
  "Giao thất bại": "Failed"

# Normalized status categories (for dashboard filtering)
status_categories:
  - Delivered
  - Cancelled
  - Returned
  - Failed

#!/bin/bash
# Pre-push hook: Run linting before pushing

echo "ğŸ” Running pre-push checks..."

# Check if ruff is installed
if ! command -v ruff &> /dev/null; then
    echo "âš ï¸  ruff not found. Install with: pip install ruff"
    exit 1
fi

# Run Python linting
echo "ğŸ“ Checking Python code..."
ruff check .
if [ $? -ne 0 ]; then
    echo "âŒ Python linting failed. Fix issues with: ruff check . --fix"
    exit 1
fi

# Run Python formatting check
echo "ğŸ“ Checking Python formatting..."
ruff format --check .
if [ $? -ne 0 ]; then
    echo "âŒ Python formatting check failed. Format with: ruff format ."
    exit 1
fi

echo "âœ… All pre-push checks passed!"
exit 0
